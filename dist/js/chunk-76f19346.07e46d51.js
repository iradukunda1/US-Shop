(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76f19346"],{"4ad9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"create-product py-4"},[r("div",{staticClass:"container-fluid px-5 pb-3"},[t._m(0),r("div",{staticClass:"row",on:{submit:function(t){t.preventDefault()}}},[r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card-box"},[r("h5",{staticClass:"text-uppercase bg-light p-2 mt-0 mb-3"},[t._v("General")]),r("div",{staticClass:"form-group mb-3"},[t._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",id:"product-name",placeholder:"e.g : Masayi",required:""},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}}),t.error.name?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.name))])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[t._m(2),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{id:"product-description",rows:"5",placeholder:"Please enter description ",required:""},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}}),t.error.description?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.description))])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[t._m(3),r("div",{staticClass:"d-inline-flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control w-75",attrs:{type:"number",required:"",placeholder:"Enter amount eg:25"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.currency,expression:"product.currency"}],staticClass:"form-control small w-25",attrs:{type:"text",required:"",placeholder:"FRW, $"},domProps:{value:t.product.currency},on:{input:function(e){e.target.composing||t.$set(t.product,"currency",e.target.value)}}})]),t.error.price||t.error.currency?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(" "+t._s(t.error.price||t.error.currency)+" ")])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[r("label",{attrs:{for:"quantity"}},[t._v("Product Quantity")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.stock,expression:"product.stock"}],staticClass:"form-control",attrs:{placeholder:"enter quantity",type:"text",id:"quantity",required:""},domProps:{value:t.product.stock},on:{input:function(e){e.target.composing||t.$set(t.product,"stock",e.target.value)}}}),t.error.stock?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.stock))])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[t._m(4),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.categories,expression:"product.categories"}],staticClass:"form-control",attrs:{id:"product-category",placeholder:"enter categories",required:""},domProps:{value:t.product.categories},on:{input:function(e){e.target.composing||t.$set(t.product,"categories",e.target.value)}}}),t.error.categories?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.categories))])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[r("label",{attrs:{for:"sub category"}},[t._v("sub-category")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.tags,expression:"product.tags"}],staticClass:"form-control",attrs:{id:"sub category",placeholder:"e.g:Footwear",required:""},domProps:{value:t.product.tags},on:{input:function(e){e.target.composing||t.$set(t.product,"tags",e.target.value)}}}),t.error.tags?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.tags))])]):t._e()]),r("div",{staticClass:"form-group mb-3"},[t._m(5),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.code,expression:"product.code"}],staticClass:"form-control",attrs:{id:"product-code",placeholder:"enter product code",type:"text",required:""},domProps:{value:t.product.code},on:{input:function(e){e.target.composing||t.$set(t.product,"code",e.target.value)}}}),t.error.code?r("div",[r("p",{staticClass:"text-danger mb-0 pb-1"},[t._v(t._s(t.error.code))])]):t._e()])])]),r("div",{staticClass:"col-lg-6"},[r("div",{staticClass:"card-box"},[r("h5",{staticClass:"text-uppercase mt-0 mb-3 bg-light p-2"},[t._v(" Product Images ")]),r("div",{staticClass:"p-1"},[t.product.image?t._e():r("div",{staticClass:"p-2"},[r("h3",[t._v("Please Upload product image")])]),r("div",{staticClass:"ml-5 pl-3"},[r("input",{ref:"file",staticClass:"bg-light rounded border",attrs:{type:"file",multiple:"",required:""},on:{change:function(e){return t.imageUpload()}}})]),t.product.image?r("div",{staticClass:"border shadow rounded mt-4 p-2 w-75 mx-auto",staticStyle:{height:"30vh"}},[r("span",{staticClass:"d-block product-image m-auto border rounded",style:{backgroundImage:"url("+(t.product.image||"/img/profile/avatar_user.png")+")"}})]):t._e()])])])])]),r("div",{staticClass:"justify-content-center align-items-center d-flex"},[r("div",{staticClass:"p-2 btn text-white bg-primary border rounded justify-content-center",on:{click:function(e){return t.createProduct()}}},[t.showLoader?r("i",{staticClass:"fa fa-spinner fa-spin mr-1"}):t._e(),t._v("create ")]),r("div",{staticClass:"p-2 btn text-white bg-danger border rounded justify-content-center ml-5"},[t._v(" Clear ")])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"page-title-box"},[r("h4",{staticClass:"page-title"},[t._v("Create Product")])])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"product-name"}},[t._v("Product Name "),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"product-description"}},[t._v("Product Description "),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"product-price"}},[t._v("Product Price"),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"product-category"}},[t._v("Categories "),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"product-code"}},[t._v(" Product Code "),r("span",{staticClass:"text-danger"},[t._v("*")])])}],o=(r("96cf"),r("3b8d")),c=(r("a481"),r("7f7f"),r("6762"),r("2fdb"),r("bc3a"),r("6b22")),i={data:function(){return{showLoader:!1,image:null,product:{image:null,currency:"FRW"},error:{},errorMessage:[]}},methods:{imageUpload:function(){var t=this.$refs.file.files[0];t.type.includes("image/")&&(this.image=t,this.product.image=URL.createObjectURL(t))},createProduct:function(){var t=this,e={};e.name=this.product.name,e.currency=this.product.currency,e.description=this.product.description,e.price=this.product.price.replace(/[^0-9\.]+/g,""),e.stock=this.product.stock,e.categories[this.product.categories]=this.product.categories,e.tags[this.product.tags]=this.product.tags,e.code=this.product.code,this.loader(!0,{context:"Creating Product...",area:"app"});var r=this.image;r&&delete this.image,this.showLoader=!0,this.$store.dispatch("createProduct",e).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(a),!r){e.next=9;break}return e.next=4,t.uploadImage(r,"product-profile, profile");case 4:if(s=e.sent,!s){e.next=9;break}return console.log(s),e.next=9,t.$store.dispatch("UpdateProduct",{image_urls:{productImage:s},id:a.id});case 9:return e.next=11,t.loader(!1);case 11:return t.showLoader=!1,e.next=14,t.$store.dispatch("fetchProducts");case 14:return e.next=16,Object(c["c"])("Product created","Product created Successfully");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t.loader(!1),t.showLoader=!1,t.error=e}))}}},n=i,d=(r("844c"),r("2877")),u=Object(d["a"])(n,a,s,!1,null,"7707742d",null);e["default"]=u.exports},"844c":function(t,e,r){"use strict";var a=r("9c00"),s=r.n(a);s.a},"9c00":function(t,e,r){}}]);
//# sourceMappingURL=chunk-76f19346.07e46d51.js.map