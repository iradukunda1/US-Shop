{"remainingRequest":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dedsec/Documents/US-Shop/src/webLayout/webNav.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/dedsec/Documents/US-Shop/src/webLayout/webNav.vue","mtime":1595488346411},{"path":"/home/dedsec/Documents/US-Shop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uL2Fzc2V0cy9zdHlsZS93ZWJOYXYiOwo="},{"version":3,"sources":["webNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA","file":"webNav.vue","sourceRoot":"src/webLayout","sourcesContent":["<template>\n  <main class=\"main\">\n    <div class=\"top-nav navbar navbar-expand-lg\">\n      <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n        <ul class=\"navbar-nav\">\n          <li\n            class=\"nav-item auth\"\n            @click=\"$router.push('/login')\"\n            v-if=\"!user.token\"\n          >\n            <i class=\"fas fa-lock\"></i>&nbsp; <span>Login</span> or\n            <i class=\"fas fa-sign-in-alt\"></i>&nbsp; <span>Register</span>\n          </li>\n          <li class=\"nav-item auth\" @click=\"profile()\">\n            <i class=\"fas fa-user-circle\"></i>&nbsp; <span>MyAccount</span>\n          </li>\n          <li class=\"nav-item auth\" @click=\"loc_logout\">\n            <i class=\"fas fa-sign-in-alt\"></i>&nbsp; <span>Logout</span>\n          </li>\n          <!-- <li class=\"nav-item auth\" @click=\"$router.push('/admin')\" v-if=\"user.roles.includes && user.roles.includes('Admin')\">\n            <i class=\"fas fa-arrow-left\"></i>&nbsp; <span>Go To Dashboard</span>\n          </li> -->\n          <li\n            class=\"nav-item\"\n            @click=\"$router.push('/cart')\"\n            id=\"popover-container\"\n          >\n            <p class=\"mb-0\" id=\"cart-popover\">\n              <i class=\"fas fa-cart-plus mt-1 \" style=\"font-size:20px;\"></i\n              >&nbsp;\n              <span\n                class=\"badge badge-primary\"\n                style=\"position: absolute; right: 7px;\"\n                >{{ cartProducts.length }}</span\n              >\n            </p>\n          </li>\n          <b-popover\n            target=\"cart-popover\"\n            triggers=\"hover\"\n            placement=\"bottom-right\"\n            container=\"popover-container\"\n            ref=\"popover\"\n          >\n            <template v-slot:title class=\"px-5\">\n              <div class=\"text-dark pl-3\">Your Cart List Product</div>\n            </template>\n            <div>\n              <div v-if=\"cartProducts.length\">\n                <div\n                  v-for=\"(cart, index) in products\"\n                  :key=\"index\"\n                  class=\"pt-1 border-top d-flex\"\n                >\n                  <div class=\"d-block\">\n                    <p class=\"mb-0\">{{ cart.name }}</p>\n                    <div class=\"text-truncate small pr-3 pt-1\" style=\"max-width:12rem;\">{{\n                      cart.description || \"No description\"\n                    }}</div>\n                  </div>\n                  <div class=\"ml-auto d-block\">\n                    <p class=\"mb-0 text-white bg-info px-2\">\n                      {{ QtyProduct(cart) }}Qty\n                    </p>\n                    <span class=\"mt-auto text-primary\">{{\n                      cart.price + \"\" + cart.currency\n                    }}</span>\n                  </div>\n                </div>\n                <div class=\"mt-3 d-flex\">\n                  <div class=\"ml-auto d-flex\">\n                    <h5>Total:</h5>\n                    <p class=\"font-weight-bold mb-0 pt-1\">\n                      {{ \" \" + totalValue.toFixed(2) }}FRW\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <div v-else class=\"justify-content-center align-items-center\">\n                <h3 class=\"mb-0 mx-5\">Oops!</h3>\n                <h5 class=\"mb-0 row mx-0\">No Products Found</h5>\n                <p class=\"mx-4 row\">Your cart is empty</p>\n              </div>\n            </div>\n          </b-popover>\n        </ul>\n      </div>\n    </div>\n    <nav class=\"navbar navbar-expand-lg navbar-light\" id=\"nav\">\n      <span class=\"brand mr-2 p-1\"><img class=\"w-100 h-100\" :src=\"logo\"/></span>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarText\"\n        aria-controls=\"navbarText\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n        <ul class=\"navbar-nav mr-auton nav-top\">\n          <li class=\"nav-item active\">\n            <router-link to=\"/\" class=\"nav-link\">Home</router-link>\n          </li>\n          <li class=\"nav-item active\">\n            <router-link to=\"/products\" class=\"nav-link\">Products</router-link>\n          </li>\n          <li class=\"nav-item active\">\n            <router-link to=\"/about\" class=\"nav-link\">About</router-link>\n          </li>\n          <li class=\"nav-item active\">\n            <router-link to=\"/ContactUs\" class=\"nav-link\">Contact</router-link>\n          </li>\n        </ul>\n        <form class=\"form-inline my-2 my-lg-0\" id=\"search-bar\">\n          <div class=\"input-group\">\n            <input\n              type=\"search\"\n              v-model=\"search\"\n              class=\"form-control\"\n              placeholder=\"search\"\n              aria-label=\"search\"\n              aria-describedby=\"search-btn\"\n            />\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\" id=\"search-btn\"\n                ><i class=\"fas fa-search\"></i\n              ></span>\n            </div>\n          </div>\n        </form>\n      </div>\n    </nav>\n  </main>\n</template>\n<script>\n  /* eslint-disable */\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\nimport {\n  getLoggedInUser,\n  isLoggedIn,\n} from \"../components/shared/service/authService\";\n\nexport default {\n  data() {\n    return {\n      totalValue: 0.0,\n      logo: \"/assets/images/logo.jpg\",\n      search: null,\n    };\n  },\n  computed: {\n    ...mapState([\"cartProducts\", \"loggedUser\"]),\n\n    ...mapGetters([\"auth\"]),\n\n    user() {\n      return this.auth;\n    },\n\n    cartProducts() {\n      return this.$store.getters.cartProducts;\n    },\n    products() {\n      return [\n        ...new Set(this.cartProducts.map((v) => JSON.stringify(v))),\n      ].map((v) => JSON.parse(v));\n    },\n  },\n  watch: {\n    cartProducts() {\n      this.totalValue = 0;\n      this.cartProducts.forEach((product) => {\n        this.totalValue += parseFloat(product.price);\n      });\n      this.$store.state.resources.totalPrice = this.totalValue;\n    },\n  },\n  mounted() {},\n  methods: {\n    /* Initially loading the cart products from local storage */\n    QtyProduct(product) {\n      return this.cartProducts.filter((v) => v.id === product.id).length;\n    },\n    ...mapMutations([\"SET_CART_PRODUCTS\", \"ADD_LOGGED_USER\"]),\n\n    getLocalProducts() {\n      const products = JSON.parse(localStorage.getItem(\"iki-cart\"));\n      if (products) {\n        this.SET_CART_PRODUCTS(products);\n      }\n    },\n\n    profile() {\n      this.$router.push(\"/Me\");\n      this.$store.dispatch(\"setResources\", [\"user\", this.user]);\n    },\n\n    loc_logout() {\n        this.$store.dispatch(\"logout\")\n      // Promise.all([\n      //   localStorage.removeItem(\"_auth\" && \"iki-cart\"),\n      //   this.$store.dispatch(\"logout\"),\n      // ]).then(() => {\n      //   this.$router.replace({ name: \"Home\" });\n      // });\n    },\n  },\n  created() {\n    this.getLocalProducts();\n    //\n    // const loggedUser = getLoggedInUser();\n    //\n    // this.ADD_LOGGED_USER(loggedUser);\n  },\n};\n</script>\n<style lang=\"scss\">\n@import \"../assets/style/webNav\";\n</style>\n"]}]}