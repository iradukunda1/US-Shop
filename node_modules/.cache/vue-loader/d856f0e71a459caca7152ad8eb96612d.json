{"remainingRequest":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dedsec/Documents/US-Shop/src/components/products/cart/CartProducts.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/dedsec/Documents/US-Shop/src/components/products/cart/CartProducts.vue","mtime":1595858377629},{"path":"/home/dedsec/Documents/US-Shop/node_modules/css-loader/dist/cjs.js","mtime":1595858337649},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1595858367409},{"path":"/home/dedsec/Documents/US-Shop/node_modules/postcss-loader/src/index.js","mtime":1595858354409},{"path":"/home/dedsec/Documents/US-Shop/node_modules/cache-loader/dist/cjs.js","mtime":1595858333745},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js","mtime":1595858367405}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lcnJvci10ZW1wbGF0ZSB7CiAgcGFkZGluZzogNDBweCAxNXB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmVycm9yLWFjdGlvbnMgewogIG1hcmdpbi10b3A6IDE1cHg7CiAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLmVycm9yLWFjdGlvbnMgLmJ0biB7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Cgp0ciB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JleTsKfQo="},{"version":3,"sources":["CartProducts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"CartProducts.vue","sourceRoot":"src/components/products/cart","sourcesContent":["<template>\n  <div class=\"cart-products\">\n    <div class=\"pb-5\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-lg-12 p-5 bg-white rounded shadow-sm mb-3\">\n            <div class=\"table-responsive\">\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"border-0 bg-light\">\n                      <div class=\"p-2 px-3 text-uppercase\">Product</div>\n                    </th>\n                    <th scope=\"col\" class=\"border-0 bg-light\">\n                      <div class=\"py-2 text-uppercase\">Quantity</div>\n                    </th>\n                    <th scope=\"col\" class=\"border-0 bg-light\">\n                      <div class=\"py-2 text-uppercase\">Total Price</div>\n                    </th>\n                    <th scope=\"col\" class=\"border-0 bg-light\">\n                      <div class=\"py-2 text-uppercase\">Remove</div>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(item, id) in products\" :key=\"id\">\n                    <div\n                      class=\"media align-items-lg-center flex-column flex-lg-row p-3\"\n                    >\n                      <div class=\"media-body order-2 order-lg-1\">\n                        <h5 class=\"mt-0 font-weight-bold mb-2\">\n                          {{ item.name }}\n                        </h5>\n                        <p class=\"font-italic text-muted mb-0 small\">\n                          {{ item.description }}\n                        </p>\n                        <div\n                          class=\"d-flex align-items-center justify-content-between mt-1\"\n                        >\n                          <h6 class=\"font-weight-bold my-2\">\n                            {{ item.price + item.currency }}\n                          </h6>\n                          <ul class=\"list-inline small\">\n                            <li class=\"list-inline-item m-0\">\n                              <i class=\"fa fa-star text-success\"></i>\n                            </li>\n                            <li class=\"list-inline-item m-0\">\n                              <i class=\"fa fa-star text-success\"></i>\n                            </li>\n                            <li class=\"list-inline-item m-0\">\n                              <i class=\"fa fa-star text-success\"></i>\n                            </li>\n                            <li class=\"list-inline-item m-0\">\n                              <i class=\"fa fa-star text-success\"></i>\n                            </li>\n                            <li class=\"list-inline-item m-0\">\n                              <i class=\"fa fa-star text-gray\"></i>\n                            </li>\n                          </ul>\n                        </div>\n                      </div>\n                      <img\n                        src=\"/img/tsapal3.jpg\"\n                        alt=\"Generic placeholder image\"\n                        width=\"80\"\n                        class=\"ml-lg-5 order-1 order-lg-2\"\n                      />\n                    </div>\n                    <td class=\"border-0 align-middle\" style=\"min-width: 150px;\">\n                      <div class=\"input-group\">\n                        <div\n                          class=\"input-group-prepend\"\n                          style=\"cursor:pointer\"\n                          @click=\"removeFromCart(item)\"\n                        >\n                          <span\n                            class=\"input-group-text\"\n                            @click=\"removeFromCart(item)\"\n                            ><i class=\"fas fa-minus\"></i\n                          ></span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          class=\"form-control bg-white\"\n                          style=\"max-width: 3.5rem;\"\n                          :value=\"QtyProduct(item)\"\n                          aria-label=\"Amount (to the nearest dollar)\"\n                          disabled\n                        />\n                        <div\n                          class=\"input-group-append\"\n                          style=\"cursor:pointer\"\n                          @click=\"addToCart(item)\"\n                        >\n                          <span class=\"input-group-text\"\n                            ><i class=\"fas fa-plus\" style=\"font-size:0.8em;\"></i\n                          ></span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"border-0 align-middle\" style=\"min-width: 150px;\">\n                      <strong>{{\n                        item.price * QtyProduct(item) + item.currency\n                      }}</strong>\n                    </td>\n                    <td class=\"border-0 align-middle\">\n                      <a href=\"javascript:;;\" class=\"text-dark\"\n                        ><i\n                          class=\"fa fa-trash\"\n                          @click=\"removeProductCart(item)\"\n                        ></i\n                      ></a>\n                    </td>\n                  </tr>\n                  <tr v-if=\"!products.length\" class=\"border-0\">\n                    <div class=\"error-template container\">\n                      <h1>Oops!</h1>\n                      <h2>No Products Found</h2>\n                      <div class=\"error-details\">Your cart is empty</div>\n                      <div class=\"error-actions\">\n                        <a class=\"btn text-white\">\n                          <span class=\"glyphicon glyphicon-envelope\"></span>\n                          <router-link to=\"/products\"\n                            >Take me to Products Page</router-link\n                          >\n                        </a>\n                      </div>\n                    </div>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"row py-5 p-4 bg-white rounded shadow-sm\"\n          v-if=\"products.length\"\n        >\n          <div class=\"col-lg-6\">\n            <div\n              class=\"bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold\"\n            >\n              Coupon code\n            </div>\n            <div class=\"p-4\">\n              <p class=\"font-italic mb-4\">\n                If you have a coupon code, please enter it in the box below\n              </p>\n              <div class=\"input-group mb-4 border rounded-pill p-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Apply coupon\"\n                  aria-describedby=\"button-addon3\"\n                  class=\"form-control border-0\"\n                />\n                <div class=\"input-group-append border-0\">\n                  <button\n                    id=\"button-addon3\"\n                    type=\"button\"\n                    class=\"btn btn-dark px-4 rounded-pill\"\n                  >\n                    <i class=\"fa fa-gift mr-2\"></i>Apply coupon\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold\"\n            >\n              Instructions for seller\n            </div>\n            <div class=\"p-4\">\n              <p class=\"font-italic mb-4\">\n                If you have some information for the seller you can leave them\n                in the box below\n              </p>\n              <textarea\n                name=\"\"\n                cols=\"30\"\n                rows=\"2\"\n                class=\"form-control\"\n              ></textarea>\n            </div>\n          </div>\n          <div class=\"col-lg-6\">\n            <div\n              class=\"bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold\"\n            >\n              Order summary\n            </div>\n            <div class=\"p-4\">\n              <p class=\"font-italic mb-4\">\n                Shipping and additional costs are calculated based on values you\n                have entered.\n              </p>\n              <ul class=\"list-unstyled mb-4\">\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <strong class=\"text-muted\">Order Subtotal </strong\n                  ><strong>{{ totalPrice }}FRW</strong>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <strong class=\"text-muted\">Shipping and handling</strong\n                  ><strong>{{ shippingFee.toFixed(2) }}Frw</strong>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <strong class=\"text-muted\">Tax</strong\n                  ><strong>{{ taxFee.toFixed(2) }}Frw</strong>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <strong class=\"text-muted\">Total</strong>\n                  <h5 class=\"font-weight-bold\">{{ totalFee.toFixed(2) }}Frw</h5>\n                </li>\n              </ul>\n              <button\n                @click=\"$router.push('/checkout')\"\n                class=\"btn btn-dark rounded-pill py-2 btn-block\"\n              >\n                Proceed to Checkout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <remove-cart-product\n      :product=\"item\"\n      v-if=\"showRemoveCartProduct\"\n      @remove-success=\"removeCartSuccess\"\n      @close=\"close\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\nimport {\n  errorToaster,\n  infoToaster,\n  successToaster,\n} from \"../../shared/service/ErrorHandler\";\nimport RemoveCartProduct from \"./notifications/remove-cart-product\";\n\nexport default {\n  name: \"CartProducts\",\n  components: { RemoveCartProduct },\n  data() {\n    return {\n      qty: [],\n      showRemoveCartProduct: false,\n      item: {},\n      shippingFee: 2.0,\n      taxFee: 0.0,\n    };\n  },\n  computed: {\n    ...mapState([\"cartProducts\"]),\n    ...mapGetters([\"resources\"]),\n\n    products() {\n      return [\n        ...new Set(this.cartProducts.map((v) => JSON.stringify(v))),\n      ].map((v) => JSON.parse(v));\n    },\n    totalPrice() {\n      return this.resources.totalPrice;\n    },\n    totalFee() {\n      return this.totalPrice - this.shippingFee;\n    },\n  },\n  methods: {\n    ...mapMutations([\"SET_CART_PRODUCTS\", \"ADD_CART_LOCAL\"]),\n\n    addToCart(product) {\n      this.ADD_CART_LOCAL(product);\n      successToaster(\n        \"Add Quantity\",\n        `Your Product <b> ${product.name} </b> Added Successfully To Your Product List`\n      );\n    },\n\n    removeFromCart(item) {\n      var index = null;\n      var data = this.cartProducts.length;\n      for (let i = 0; i < data; i++) {\n        if (this.cartProducts[i].id === item.id) {\n          index = i;\n        }\n      }\n      this.cartProducts.splice(index, 1);\n      infoToaster(\n        \"Removed Successfully\",\n        \"Your Item Removed Successfully From Product Quantity List\"\n      );\n      this.SET_CART_PRODUCTS(this.cartProducts);\n      localStorage.setItem(\"iki-cart\", JSON.stringify(this.cartProducts));\n    },\n\n    QtyProduct(item) {\n      return this.cartProducts.filter((v) => v.id === item.id).length;\n    },\n\n    removeProductCart(product) {\n      this.showRemoveCartProduct = true;\n      this.item = product;\n    },\n\n    removeCartSuccess(item) {\n      this.showRemoveCartProduct = false;\n      errorToaster(\n        \"Delete Product\",\n        `Product <b> ${item.name} </b> Deleted Successfully From Cart List`\n      );\n    },\n\n    close() {\n      this.showRemoveCartProduct = false;\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style>\n.error-template {\n  padding: 40px 15px;\n  text-align: center;\n}\n\n.error-actions {\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n\n.error-actions .btn {\n  margin-right: 10px;\n}\n\ntr {\n  border-bottom: 1px solid lightgrey;\n}\n</style>\n"]}]}