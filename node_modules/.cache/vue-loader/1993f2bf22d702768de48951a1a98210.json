{"remainingRequest":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dedsec/Documents/US-Shop/src/components/dashboardLayout/pages/product/create-product.vue?vue&type=style&index=0&id=4f6c84ec&lang=scss&scoped=true&","dependencies":[{"path":"/home/dedsec/Documents/US-Shop/src/components/dashboardLayout/pages/product/create-product.vue","mtime":1595488781221},{"path":"/home/dedsec/Documents/US-Shop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jcmVhdGUtcHJvZHVjdCB7CiAgLnByb2R1Y3QtaW1hZ2UgewogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIGhlaWdodDogMTAwJTsKICAgIHdpZHRoOiA3NSU7CiAgfQp9Cg=="},{"version":3,"sources":["create-product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+QA;AACA;AACA;AACA;AACA;AACA;AACA","file":"create-product.vue","sourceRoot":"src/components/dashboardLayout/pages/product","sourcesContent":["<template>\n  <div class=\"create-product py-4\">\n    <div class=\"container-fluid px-5 pb-3\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"page-title-box\">\n            <h4 class=\"page-title\">Create Product</h4>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\" @submit.prevent>\n        <div class=\"col-lg-6\">\n          <div class=\"card-box\">\n            <h5 class=\"text-uppercase bg-light p-2 mt-0 mb-3\">General</h5>\n            <div class=\"form-group mb-3\">\n              <label for=\"product-name\"\n                >Product Name <span class=\"text-danger\">*</span></label\n              >\n              <input\n                type=\"text\"\n                id=\"product-name\"\n                class=\"form-control\"\n                placeholder=\"e.g : Masayi\"\n                v-model=\"product.name\"\n                required\n              />\n              <div v-if=\"error.name\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.name }}</p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"product-description\"\n                >Product Description <span class=\"text-danger\">*</span></label\n              >\n              <textarea\n                class=\"form-control\"\n                id=\"product-description\"\n                rows=\"5\"\n                placeholder=\"Please enter description \"\n                required\n                v-model=\"product.description\"\n              ></textarea>\n              <div v-if=\"error.description\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.description }}</p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"product-price\"\n                >Product Price<span class=\"text-danger\">*</span></label\n              >\n              <div class=\"d-inline-flex\">\n              <input\n                type=\"number\"\n                class=\"form-control w-75\"\n                v-model=\"product.price\"\n                required\n                placeholder=\"Enter amount eg:25\"\n              />\n              <input\n                type=\"text\"\n                class=\"form-control small w-25\"\n                v-model=\"product.currency\"\n                required\n                placeholder=\"FRW, $\"\n              /></div>\n              <div v-if=\"error.price || error.currency\">\n                <p class=\"text-danger mb-0 pb-1\">\n                  {{ error.price || error.currency }}\n                </p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"quantity\">Product Quantity</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"enter quantity\"\n                type=\"text\"\n                id=\"quantity\"\n                v-model=\"product.stock\"\n                required\n              />\n              <div v-if=\"error.stock\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.stock }}</p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"product-category\"\n                >Categories <span class=\"text-danger\">*</span></label\n              >\n              <input\n                class=\"form-control\"\n                id=\"product-category\"\n                placeholder=\"enter categories\"\n                v-model=\"product.categories\"\n                required\n              />\n              <div v-if=\"error.categories\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.categories }}</p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"sub category\">sub-category</label>\n              <input\n                class=\"form-control\"\n                id=\"sub category\"\n                placeholder=\"e.g:Footwear\"\n                required\n                v-model=\"product.tags\"\n              />\n              <div v-if=\"error.tags\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.tags }}</p>\n              </div>\n            </div>\n            <div class=\"form-group mb-3\">\n              <label for=\"product-code\">\n                Product Code <span class=\"text-danger\">*</span></label\n              >\n              <input\n                class=\"form-control\"\n                id=\"product-code\"\n                placeholder=\"enter product code\"\n                type=\"text\"\n                v-model=\"product.code\"\n                required\n              />\n              <div v-if=\"error.code\">\n                <p class=\"text-danger mb-0 pb-1\">{{ error.code }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-6\">\n          <div class=\"card-box\">\n            <h5 class=\"text-uppercase mt-0 mb-3 bg-light p-2\">\n              Product Images\n            </h5>\n            <div class=\"p-1\">\n              <div class=\"p-2\" v-if=\"!product.image\">\n                <h3>Please Upload product image</h3>\n              </div>\n              <div class=\"ml-5 pl-3\">\n                <input\n                  type=\"file\"\n                  ref=\"file\"\n                  class=\"bg-light rounded border\"\n                  @change=\"imageUpload()\"\n                  multiple\n                  required\n                />\n              </div>\n              <div\n                class=\"border shadow rounded mt-4 p-2 w-75 mx-auto\"\n                style=\"height:30vh\"\n                v-if=\"product.image\"\n              >\n                <span\n                  class=\"d-block product-image m-auto border rounded\"\n                  :style=\"{\n                    backgroundImage:\n                      'url(' +\n                      (product.image || '/img/profile/avatar_user.png') +\n                      ')'\n                  }\"\n                ></span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"justify-content-center align-items-center d-flex\">\n      <div\n        class=\"p-2 btn text-white bg-primary border rounded justify-content-center\"\n        @click=\"createProduct()\"\n      >\n        <i class=\"fa fa-spinner fa-spin mr-1\" v-if=\"showLoader\"></i>create\n      </div>\n      <div\n        class=\"p-2 btn text-white bg-danger border rounded justify-content-center ml-5\"\n      >\n        Clear\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  /* eslint-disable */\nimport axios from \"axios\";\nimport {\n  errorToaster,\n  successToaster\n} from \"../../../shared/service/ErrorHandler\";\nexport default {\n  data() {\n    return {\n      showLoader: false,\n      image: null,\n      product: {\n        image: null,\n        currency: \"FRW\"\n      },\n      error: {},\n      errorMessage: []\n    };\n  },\n  methods: {\n    imageUpload() {\n      var target = this.$refs.file.files[0];\n      if (!target.type.includes(\"image/\")) {\n      } else {\n        this.image = target;\n        this.product.image = URL.createObjectURL(target);\n      }\n    },\n    createProduct() {\n      const product = {};\n      product.name = this.product.name;\n      product.currency = this.product.currency;\n      product.description = this.product.description;\n      product.price = this.product.price.replace(/[^0-9\\.]+/g, \"\");\n      product.stock = this.product.stock;\n      product.categories[this.product.categories] = this.product.categories\n      product.tags[this.product.tags] = this.product.tags;\n      product.code = this.product.code;\n      this.loader(true, {\n        context: \"Creating Product...\",\n        area: \"app\"\n      });\n      const image = this.image;\n      if (image) delete this.image;\n      this.showLoader = true;\n      this.$store\n        .dispatch(\"createProduct\", product)\n        .then(async res => {\n          console.log(res);\n          if (image) {\n            const productImage = await this.uploadImage(\n              image,\n              \"product-profile, profile\"\n            );\n            if (productImage) {\n              console.log(productImage);\n              await this.$store.dispatch(\"UpdateProduct\", {\n                image_urls: { productImage },\n                id: res.id\n              });\n            }\n          }\n          await this.loader(false);\n          this.showLoader = false;\n          await this.$store.dispatch(\"fetchProducts\");\n          await successToaster(\n            \"Product created\",\n            \"Product created Successfully\"\n          );\n        })\n        .catch(err => {\n          console.log(err);\n          this.loader(false);\n          this.showLoader = false;\n          this.error = err;\n          // errorToaster(\n          //   \"Product created Failed\",\n          //   err.message || \"Please try again after sometime\"\n          // );\n        });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.create-product {\n  .product-image {\n    background-size: cover;\n    height: 100%;\n    width: 75%;\n  }\n}\n</style>\n"]}]}