{"remainingRequest":"/home/dedsec/Documents/US-Shop/node_modules/babel-loader/lib/index.js!/home/dedsec/Documents/US-Shop/node_modules/eslint-loader/index.js??ref--13-0!/home/dedsec/Documents/US-Shop/src/_api/services/auth.service.js","dependencies":[{"path":"/home/dedsec/Documents/US-Shop/src/_api/services/auth.service.js","mtime":1595489787122},{"path":"/home/dedsec/Documents/US-Shop/package.json","mtime":1595485158155},{"path":"/home/dedsec/Documents/US-Shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9kZWRzZWMvRG9jdW1lbnRzL1VTLVNob3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2RlZHNlYy9Eb2N1bWVudHMvVVMtU2hvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBlcnJvckhhbmRsZXIgZnJvbSAiQC9fYXBpL2hlbHBlcnMvZXJyb3JzLmhhbmRsZXIiOwoKdmFyIGF1dGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGF1dGgoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgYXV0aCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoYXV0aCwgbnVsbCwgW3sKICAgIGtleTogImxvZ2luIiwKCiAgICAvKiBsb2dpbiAtIGxvZ2luIGFzIHVzZXIgaW4gb3JkZXIgdG8gZ2V0IHRva2VuIGFuZCBkZWNvZGUgaXQgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbih1c2VyKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgYXhpb3MucG9zdCgibG9naW4iLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIHJlcy5kYXRhLnRva2VuOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnJvckhhbmRsZXIoZXJyKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyogZ2V0T25lIC0gZ2V0IGxvZ2dlZGluIHVzZXIgKi8KCiAgfSwgewogICAga2V5OiAiZmluZE9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZE9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBheGlvcy5wb3N0KCJ1c2Vycy9jdXJyZW50IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIkJlYXJlciAiICsgcmVzLmRhdGEudG9rZW47CiAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhLnRva2VuKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZWplY3QoZXJyb3JIYW5kbGVyKGVycikpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBhdXRoOwp9KCk7CgpleHBvcnQgeyBhdXRoIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/home/dedsec/Documents/US-Shop/src/_api/services/auth.service.js"],"names":["axios","errorHandler","auth","user","Promise","resolve","reject","post","then","res","data","defaults","headers","common","token","catch","err"],"mappings":"AAAA;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;;IAEqBC,I;;;;;;;;AACnB;0BACaC,I,EAAM;AACjB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,QAAAA,KAAK,CACAO,IADL,UACmBJ,IADnB,EAEKK,IAFL,CAEU,UAAAC,GAAG,EAAI;AACXJ,UAAAA,OAAO,CAACI,GAAG,CAACC,IAAL,CAAP;AACAV,UAAAA,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IACI,YAAYJ,GAAG,CAACC,IAAJ,CAASI,KADzB;AAED,SANL,EAOKC,KAPL,CAOW,UAAAC,GAAG,EAAI;AACZV,UAAAA,MAAM,CAACL,YAAY,CAACe,GAAD,CAAb,CAAN;AACD,SATL;AAUD,OAXM,CAAP;AAYD;AACD;;;;8BACiB;AACf,aAAO,IAAIZ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,QAAAA,KAAK,CACAO,IADL,CACU,eADV,EAEKC,IAFL,CAEU,UAAAC,GAAG,EAAI;AACXT,UAAAA,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IACI,YAAYJ,GAAG,CAACC,IAAJ,CAASI,KADzB;AAEAT,UAAAA,OAAO,CAACI,GAAG,CAACC,IAAJ,CAASI,KAAV,CAAP;AACD,SANL,EAOKC,KAPL,CAOW,UAAAC,GAAG,EAAI;AACZV,UAAAA,MAAM,CAACL,YAAY,CAACe,GAAD,CAAb,CAAN;AACD,SATL;AAUD,OAXM,CAAP;AAYD;;;;;;SA9BkBd,I","sourcesContent":["\"use strict\";\nimport axios from \"axios\";\nimport errorHandler from \"@/_api/helpers/errors.handler\";\n\nexport default class auth {\n  /* login - login as user in order to get token and decode it */\n  static login(user) {\n    return new Promise((resolve, reject) => {\n      axios\n          .post(`login`, user)\n          .then(res => {\n            resolve(res.data);\n            axios.defaults.headers.common[\"Authorization\"] =\n                \"Bearer \" + res.data.token;\n          })\n          .catch(err => {\n            reject(errorHandler(err));\n          });\n    });\n  }\n  /* getOne - get loggedin user */\n  static findOne() {\n    return new Promise((resolve, reject) => {\n      axios\n          .post(\"users/current\")\n          .then(res => {\n            axios.defaults.headers.common[\"Authorization\"] =\n                \"Bearer \" + res.data.token;\n            resolve(res.data.token);\n          })\n          .catch(err => {\n            reject(errorHandler(err));\n          });\n    });\n  }\n}\n"]}]}