{"remainingRequest":"/home/dedsec/Documents/US-Shop/node_modules/babel-loader/lib/index.js!/home/dedsec/Documents/US-Shop/node_modules/eslint-loader/index.js??ref--13-0!/home/dedsec/Documents/US-Shop/src/config/mixins.js","dependencies":[{"path":"/home/dedsec/Documents/US-Shop/src/config/mixins.js","mtime":1595438285000},{"path":"/home/dedsec/Documents/US-Shop/package.json","mtime":1595485158155},{"path":"/home/dedsec/Documents/US-Shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dedsec/Documents/US-Shop/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvZGVkc2VjL0RvY3VtZW50cy9VUy1TaG9wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIjsKZXhwb3J0IGRlZmF1bHQgewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICBWdWUubWl4aW4oewogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSwKICAgICAgICAgIGNsb3VkaW5hcnk6IHsKICAgICAgICAgICAgcHJlc2V0OiAidHNhcGFsLXVwbG9hZC1wcmVzZXQiLAogICAgICAgICAgICBuYW1lOiAidHNhcGFsLW9ubGluZSIKICAgICAgICAgIH0sCiAgICAgICAgICB1cGxvYWRQcm9ncmVzczogMAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBsb2FkZXI6IGZ1bmN0aW9uIGxvYWRlcihib29sLCBkYXRhKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0QWNjZXNzb3JpZXMiLCBbImxvYWRpbmciLCBib29sID8gZGF0YSA6IHt9XSk7CiAgICAgICAgICB0aGlzLnByb2Nlc3NpbmcgPSBib29sOwogICAgICAgIH0sCiAgICAgICAgdXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIHVwbG9hZEltYWdlKGZpbGUsIHRhZ3MpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgdmFyIHVybCA9ICJodHRwczovL2FwaS5jbG91ZGluYXJ5LmNvbS92MV8xLyIuY29uY2F0KF90aGlzLmNsb3VkaW5hcnkubmFtZSwgIi91cGxvYWQiKTsKICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgIGZkLmFwcGVuZCgiZmlsZSIsIGZpbGUpOwogICAgICAgICAgICBmZC5hcHBlbmQoInVwbG9hZF9wcmVzZXQiLCBfdGhpcy5jbG91ZGluYXJ5LnByZXNldCk7CiAgICAgICAgICAgIGZkLmFwcGVuZCgiY2xvdWRfbmFtZSIsIF90aGlzLmNsb3VkaW5hcnkubmFtZSk7CiAgICAgICAgICAgIGZkLmFwcGVuZCgidGFncyIsIHRhZ3MpOwogICAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB0aGlzLnVwbG9hZFByb2dyZXNzID0gTWF0aC5yb3VuZChlLmxvYWRlZCAqIDEwMC4wIC8gZS50b3RhbCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjsKCiAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHsKICAgICAgICAgICAgICAgIHZhciBfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCksCiAgICAgICAgICAgICAgICAgICAgc2VjdXJlX3VybCA9IF9KU09OJHBhcnNlLnNlY3VyZV91cmw7CgogICAgICAgICAgICAgICAgcmVzb2x2ZShzZWN1cmVfdXJsKTsKICAgICAgICAgICAgICB9IGVsc2UgcmVqZWN0KHsKICAgICAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHhoci5zdGF0dXNUZXh0CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB4aHIub3BlbigiUE9TVCIsIHVybCwgdHJ1ZSk7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwgIlhNTEh0dHBSZXF1ZXN0Iik7CiAgICAgICAgICAgIHhoci5zZW5kKGZkKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgbW9kYWxBbGVydDogZnVuY3Rpb24gbW9kYWxBbGVydChib29sLCBkYXRhKSB7CiAgICAgICAgICBpZiAoYm9vbCkgewogICAgICAgICAgICB0aGlzLiRidk1vZGFsLnNob3coIm1vZGFsLWFsZXJ0Iik7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRBY2Nlc3NvcmllcyIsIFsibW9kYWxBbGVydCIsIGRhdGFdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgibW9kYWwtYWxlcnQiKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEFjY2Vzc29yaWVzIiwgWyJtb2RhbEFsZXJ0Iiwge31dKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdldEVycm9yOiBmdW5jdGlvbiBnZXRFcnJvcihlcnIpIHsKICAgICAgICAgIHJldHVybiBlcnIgJiYgKF90eXBlb2YoZXJyLmVycm9yKSA9PT0gIm9iamVjdCIgJiYgZXJyLmVycm9yLm1lc3NhZ2UgfHwgdHlwZW9mIGVyci5lcnJvciA9PT0gInN0cmluZyIgJiYgZXJyLmVycm9yIHx8IGVyci5tZXNzYWdlIHx8IHR5cGVvZiBlcnIgPT09ICJzdHJpbmciICYmIGVycik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/home/dedsec/Documents/US-Shop/src/config/mixins.js"],"names":["install","Vue","mixin","data","processing","cloudinary","preset","name","uploadProgress","methods","loader","bool","$store","dispatch","uploadImage","file","tags","xhr","XMLHttpRequest","Promise","resolve","reject","url","fd","FormData","append","upload","addEventListener","e","Math","round","loaded","total","onreadystatechange","readyState","status","JSON","parse","responseText","secure_url","message","statusText","open","setRequestHeader","send","modalAlert","$bvModal","show","hide","getError","err","error"],"mappings":"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","sourcesContent":["export default {\n  install(Vue) {\n    Vue.mixin({\n      data() {\n        return {\n          processing: false,\n          cloudinary: {\n            preset: \"tsapal-upload-preset\",\n            name: \"tsapal-online\"\n          },\n          uploadProgress: 0\n        };\n      },\n      methods: {\n        loader(bool, data) {\n          this.$store.dispatch(\"setAccessories\", [\"loading\", bool ? data : {}]);\n          this.processing = bool;\n        },\n        uploadImage(file, tags) {\n          var xhr = new XMLHttpRequest();\n          return new Promise((resolve, reject) => {\n            var url = `https://api.cloudinary.com/v1_1/${this.cloudinary.name}/upload`;\n            var fd = new FormData();\n            fd.append(\"file\", file);\n            fd.append(\"upload_preset\", this.cloudinary.preset);\n            fd.append(\"cloud_name\", this.cloudinary.name);\n            fd.append(\"tags\", tags);\n\n            xhr.upload.addEventListener(\"progress\", function(e) {\n              this.uploadProgress = Math.round((e.loaded * 100.0) / e.total);\n            });\n\n            xhr.onreadystatechange = function() {\n              if (xhr.readyState !== 4) return;\n              if (xhr.status >= 200 && xhr.status < 300) {\n                var { secure_url } = JSON.parse(xhr.responseText);\n                resolve(secure_url);\n              } else\n                reject({\n                  status: xhr.status,\n                  message: xhr.statusText\n                });\n            };\n            xhr.open(\"POST\", url, true);\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            xhr.send(fd);\n          });\n        },\n        modalAlert(bool, data) {\n          if (bool) {\n            this.$bvModal.show(\"modal-alert\");\n            this.$store.dispatch(\"setAccessories\", [\"modalAlert\", data]);\n          } else {\n            this.$bvModal.hide(\"modal-alert\");\n            this.$store.dispatch(\"setAccessories\", [\"modalAlert\", {}]);\n          }\n        },\n        getError(err) {\n          return (\n            err &&\n            ((typeof err.error === \"object\" && err.error.message) ||\n              (typeof err.error === \"string\" && err.error) ||\n              err.message ||\n              (typeof err === \"string\" && err))\n          );\n        }\n      }\n    });\n  }\n};\n"]}]}